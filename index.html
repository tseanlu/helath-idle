<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Training Idle</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="app">

    <!-- MAIN STAGE (always visible) -->
    <section class="stage" aria-label="Main stage">
      <div class="stageTop">
        <div class="brand">
          <div class="logo">ğŸƒâ€â™‚ï¸</div>
          <div>
            <div class="title">Training Idle</div>
            <div class="subtitle">Keep training. Clear courses. Race.</div>
          </div>
        </div>

        <div class="hud">
          <div class="hudPill">
            <div class="hudK">Energy</div>
            <div class="bar" aria-hidden="true"><div id="energyBar" class="barFill"></div></div>
            <div class="hudV"><b id="energyText">0</b>/100</div>
          </div>

          <div class="hudPill">
            <div class="hudK">Fitness</div>
            <div class="hudV big"><b id="fitnessText">0</b></div>
          </div>

          <div class="hudPill">
            <div class="hudK">Form</div>
            <div class="hudV big"><b id="formText">ğŸ™‚</b></div>
          </div>

          <div class="hudPill">
            <div class="hudK">Money</div>
            <div class="hudV big">$<b id="moneyText">0</b></div>
          </div>
        </div>
      </div>

      <div class="trackWrap">
        <div class="track">
          <div class="lane">
            <div id="trackFill" class="trackFill"></div>
            <div class="mark finish">ğŸ</div>
            <div id="runner" class="runner">ğŸƒ</div>
            <div id="fxLayer" class="fxLayer" aria-hidden="true"></div>
            <div id="stageOverlay" class="stageOverlay hidden">â€”</div>
            <div id="confetti" class="confetti" aria-hidden="true"></div>
          </div>
        </div>

        <div class="stageMeta">
          <div class="metaLeft">
            <span class="badge" id="stageMode">Idle</span>
            <span class="muted" id="stageNow">Pick a training below.</span>
          </div>
          <div class="metaRight">
            <span class="muted">Progress</span> <b id="stagePct">0%</b>
          </div>
        </div>
      </div>
    </section>

    <!-- TABS -->
    <nav class="tabs" aria-label="Tabs">
      <button class="tabBtn active" data-tab="training">Training</button>
      <button class="tabBtn" data-tab="race">Race</button>
      <button class="tabBtn" data-tab="shop">Shop</button>
      <button class="tabBtn" data-tab="settings">Settings</button>
    </nav>

    <section class="panelWrap">
      <!-- TRAINING -->
      <section class="panel active" id="tab-training">
        <div class="panelHead">
          <div>
            <h2>Training</h2>
            <p class="muted">Choose a discipline, then clear levels (Lv1â€“Lv10).</p>
          </div>

          <label class="switch">
            <input type="checkbox" id="autoRepeatToggle" checked />
            <span class="slider"></span>
            <span class="switchText">Auto-repeat</span>
          </label>
        </div>

        <div class="tracks" id="tracks"></div>

        <div class="levelWrap">
          <div class="levelHead">
            <div>
              <div class="muted small">Selected</div>
              <div class="strong" id="selectedText">â€”</div>
            </div>
            <button class="btn primary" id="startBtn" disabled>Start</button>
          </div>

          <div class="levels" id="levels"></div>
        </div>

        <div class="hint" id="hint">Tip: Clear higher levels for faster growth and better races.</div>
      </section>

      <!-- RACE -->
      <section class="panel" id="tab-race">
        <div class="panelHead">
          <div>
            <h2>Race</h2>
            <p class="muted">Races use Fitness + Form. Training pauses while racing.</p>
          </div>
        </div>

        <div class="raceGrid">
          <button class="raceCard" data-race="5k"><div class="raceTitle">5K</div><div class="muted">Fast & short</div></button>
          <button class="raceCard" data-race="10k"><div class="raceTitle">10K</div><div class="muted">Steady</div></button>
          <button class="raceCard" data-race="hm"><div class="raceTitle">Half</div><div class="muted">Endurance</div></button>
          <button class="raceCard" data-race="fm"><div class="raceTitle">Marathon</div><div class="muted">Big goal</div></button>
        </div>

        <div class="raceResult" id="raceResult">Pick a race.</div>
        <button class="btn" id="raceBtn" disabled>Enter Race</button>
      </section>

      <!-- SHOP -->
      <section class="panel" id="tab-shop">
        <div class="panelHead">
          <div>
            <h2>Shop</h2>
            <p class="muted">Buy gear to improve training efficiency.</p>
          </div>
        </div>
        <div class="shopGrid" id="shopGrid"></div>
      </section>

      <!-- SETTINGS -->
      <section class="panel" id="tab-settings">
        <div class="panelHead">
          <div>
            <h2>Settings</h2>
            <p class="muted">Export / import save, reset.</p>
          </div>
        </div>

        <div class="row">
          <button class="btn" id="exportBtn">Export</button>
          <button class="btn" id="importBtn">Import</button>
          <button class="btn danger" id="resetBtn">Reset</button>
        </div>

        <details class="details">
          <summary class="detailsSum">Advanced stats (debug)</summary>
          <pre id="debug" class="debug">â€”</pre>
        </details>
      </section>
    </section>

  </main>

  <script src="game.js"></script>
</body>
</html>
